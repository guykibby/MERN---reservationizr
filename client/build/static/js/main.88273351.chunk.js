(this["webpackJsonp02-exercise-api-request-in-react"]=this["webpackJsonp02-exercise-api-request-in-react"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(14),s=n.n(r),a=(n(21),n(22),n(2)),o=n(8),j=n(1),u=(Object(o.c)((function(){return Object(j.jsx)(a.a,{})}),{onRedirecting:function(){return Object(j.jsx)("p",{children:"Loading"})}}),n(31),n(6)),l=n.p+"static/media/logo.68074af1.png",O=(n(32),function(){var e=Object(o.b)(),t=e.loginWithRedirect,n=e.logout,c=e.isAuthenticated;return e.isLoading?Object(j.jsx)("p",{children:"Loading login details..."}):c?Object(j.jsx)("button",{className:"btn-login",onClick:function(){return n({returnTo:window.location.origin})},children:"Log Out"}):Object(j.jsx)("button",{className:"btn-login",onClick:function(){return t()},children:"Log In"})}),d=function(){return Object(j.jsx)("header",{className:"header",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(u.b,{to:"/",className:"header-title",children:Object(j.jsx)("img",{src:l,alt:"",width:"300"})}),Object(j.jsxs)("ul",{className:"nav",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(u.b,{to:"/",className:"nav-link",children:"Restaurants"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(u.b,{to:"/reservations",className:"nav-link",children:"My reservations"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(O,{})})]})]})})},b=(n(43),n(33),function(){Object(a.h)().id;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h1",{children:"Reservation"})})}),h=(n(34),function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h1",{children:"Upcoming reservations"})})}),x=n(9),m=n.n(x),_=n(11),f=n(7),S=(n(36),function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],i=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(_.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,"/restaurants"));case 2:return t=e.sent,console.log(t),e.next=6,t.json();case 6:n=e.sent,console.log(n),i(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Restuarants"}),Object(j.jsx)("ul",{className:"restuarantList",children:n.map((function(e){return Object(j.jsxs)("li",{className:"restaurantItem",children:[Object(j.jsx)("img",{src:e.image,alt:e.name}),Object(j.jsx)("h2",{className:"restaurant-name",children:e.name}),Object(j.jsx)("p",{className:"property-address",children:e.description}),Object(j.jsx)(u.b,{className:"restaurantLink link",to:"/restaurants/".concat(e.id),children:"Reserve now \u2192"})]},e.id)}))})]})}),v=(n(37),n(38),function(e){e.restaurantName;return Object(j.jsx)(j.Fragment,{})}),T=(n(39),function(){var e=Object(a.h)().id,t=Object(c.useState)({}),n=Object(f.a)(t,2),i=n[0],r=(n[1],Object(c.useState)(!0)),s=Object(f.a)(r,2),o=s[0],u=s[1];return Object(c.useEffect)((function(){(function(){var t=Object(_.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"http://localhost:5001/restaurants/".concat(e),u(!1);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),o?Object(j.jsx)("p",{children:"Loading..."}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(v,{restaurantName:i.name})})}),p=function(){return Object(o.b)().isLoading?Object(j.jsx)("p",{children:"Loading..."}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{}),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)(a.d,{children:[Object(j.jsx)(a.b,{path:"/restaurants/:id",element:Object(j.jsx)(T,{})}),Object(j.jsx)(a.b,{path:"/reservations/:id",element:Object(j.jsx)(b,{})}),Object(j.jsx)(a.b,{path:"/reservations",element:Object(j.jsx)(h,{})}),Object(j.jsx)(a.b,{path:"/",element:Object(j.jsx)(S,{})})]})})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))},g=function(e){var t=e.children,n=Object(a.g)(),c=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_DOMAIN,i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_CLIENT_ID,r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH0_AUDIENCE;return Object(j.jsx)(o.a,{domain:c,clientId:i,redirectUri:window.location.origin,onRedirectCallback:function(e){n((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:r,children:t})};s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(u.a,{children:Object(j.jsx)(g,{children:Object(j.jsx)(p,{})})})}),document.getElementById("root")),E()}},[[40,1,2]]]);
//# sourceMappingURL=main.88273351.chunk.js.map